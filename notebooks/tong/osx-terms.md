<!-- 
title: OSX
from: web
create: 2019-01-24
tags: ios,osx,term
-->

## OS X 一些名词

#### Mach
Mach是一个微内核，主要实现了
- 基本的进程
- 虚拟内存管理
- 任务调度
- 进程通信和消息机制
#### Mach-O
Mach-O是iOS、MacOS、WatchOS等苹果系操作系统的可执行文件格式
#### BSD
最早BSD(Berkeley Software Distribution，伯克利软件套件)是Unix的衍生系统，现在BSD并不特指任何一个BSD衍生版本，而是类Unix操作系统中的一个分支的总称，iOS中的BSD是指对Mach层的封装和扩展，它提供了更现代API和对POSIX的兼容性
#### POSIX
POSIX表示可移植操作系统接口（Portable Operating System Interface of UNIX，缩写为 POSIX），POSIX标准定义了操作系统应该为应用程序提供的接口标准，是IEEE为要在各种UNIX操作系统上运行的软件而定义的一系列API标准的总称
#### XNU
最底层包括Mach、BSD、主要基于开源技术的驱动器等组成了XNU
#### Darwin
Darwin是苹果操作系统内核的内部代号, 由XNU和Darwin库等组成
#### dyld
dyld是一个动态库加载器，负责将动态库加载进内存
#### dlopen
dlopen函数是以指定模式打开指定的动态库文件，并返回一个句柄给调用进程，dlopen调用成功的话，指定的动态库就会被加载进内存中
#### mmap
mmap函数是指将一个文件或者其它对象映射进内存。
#### 虚拟内存
我们开发者开发过程中所接触到的内存均为虚拟内存，虚拟内存使App认为它拥有连续的可用的内存（一个连续完整的地址空间），这是系统给我们的馈赠，而实际上，它通常是分布在多个物理内存碎片，系统的虚拟内存空间映射vm_map负责虚拟内存和物理内存的映射关系
#### ASLR
ASLR（Address space layout randomization）是一种针对缓冲区溢出的安全保护技术，通过对堆、栈、共享库映射等线性区布局的随机化，通过增加攻击者预测目的地址的难度。
#### 用户态和内核态
出于安全考虑，需要限制不同程序之间的访问能力、获取其他程序的数据、防止访问外围设备等，所以区分了用户态和内核态，用户态只能受限的访问内存, 且不允许访问外围设备等，内核态以访问内存所有数据, 包括外围设备等，用户态如果需要做一些内核态的事情，需要通过系统调用机制从用户态切换到内核态。


